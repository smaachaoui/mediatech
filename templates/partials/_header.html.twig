<header class="w-100">
  <nav class="navbar w-100 navbar-expand-sm navbar-dark mt-navbar py-2">
    <div class="container-fluid px-3 px-lg-5">

      {# Logo à gauche #}
      <a class="navbar-brand d-flex align-items-center gap-2 fw-semibold py-0" href="{{ path('app_home') }}">
        <img
          src="{{ asset('assets/img/logo-mediatech.png') }}"
          alt="MediaTech"
          height="120"
          class="d-block"
        >
      </a>

      <button class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#mainNavbar"
              aria-controls="mainNavbar"
              aria-expanded="false"
              aria-label="Ouvrir le menu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainNavbar">

        {# Bouton fermer le menu - visible uniquement sur mobile #}
        <button class="btn-close-menu d-sm-none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#mainNavbar"
                aria-label="Fermer le menu">
          <i class="bi bi-x-lg"></i>
        </button>

        {# Liens pages — centrés #}
        <ul class="navbar-nav mx-auto gap-lg-3 text-lg-center">
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_home') }}">Accueil</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_catalog') }}">Catalogue</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_collections_public') }}">Collections</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_about') }}">À propos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('app_contact') }}">Contact</a>
          </li>
        </ul>

        {# Auth / Profil — à droite #}
        <ul class="navbar-nav ms-auto gap-lg-2 text-lg-end">
          {% if app.user %}
            {% if is_granted('ROLE_ADMIN') %}
              <li class="nav-item">
                <a class="nav-link" href="{{ path('admin_dashboard') }}">Admin</a>
              </li>
            {% else %}
              <li class="nav-item">
                <a class="nav-link" href="{{ path('app_profile') }}">Mon profil</a>
              </li>
            {% endif %}
            <li class="nav-item">
              <a class="btn btn-outline-light btn-sm ms-lg-2" href="{{ path('app_logout') }}">
                Déconnexion
              </a>
            </li>
          {% else %}
            <li class="nav-item d-flex align-items-center gap-2">
              <a class="btn btn-outline-light btn-sm" href="{{ path('app_register') }}">
                Inscription
              </a>
              <a class="btn btn-light btn-sm" href="{{ path('app_login') }}">
                Connexion
              </a>
            </li>
          {% endif %}
        </ul>

      </div>
    </div>
  </nav>
</header>